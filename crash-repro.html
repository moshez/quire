<!DOCTYPE html>
<html>
<head><title>Ward Crash Repro</title></head>
<body>
<div id="app">Loading crash repro...</div>
<script type="module">
import { loadWard } from './vendor/ward/lib/ward_bridge.mjs';
const root = document.getElementById('app');
window.__reproResult = 'loading';
try {
  const resp = await fetch('./crash-repro.wasm');
  const bytes = await resp.arrayBuffer();
  console.log('REPRO:LOADING');
  const { done } = await loadWard(bytes, root);
  await done;
  console.log('REPRO:DONE');
  window.__reproResult = 'done';
} catch(e) {
  console.log('REPRO:ERROR ' + e.message);
  window.__reproResult = 'error: ' + e.message;
}
</script>
</body>
</html>
